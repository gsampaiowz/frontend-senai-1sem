@model Equipe 
@{ ViewData["Title"] = "Equipe"; }

<h1>Tela de Equipes</h1>

@if (ViewBag.UserName == null)
{
  <a class="nav-item nav-link text-dark" class="navbar-brand" asp-area="Botão para fazer login" asp-controller="Login" asp-action="Index">Faça Login para ter acesso ao cadastro</a>
}
else
{
  <form
  method="post"
  action='@Url.Action("Cadastrar")'
  enctype="multipart/form-data"
>
  <label for="Nome">Nome</label>
  <input type="text" name="Nome" />

  <label for="Imagem">Imagem</label>
  <input type="file" name="Imagem" />

  <button type="submit">Cadastrar</button>
</form>
}

<table class="table table-striped table-responsive">
  <thead>
    <th>Id</th>
    <th>Nome</th>
    <th>Imagem</th>
    <th>Ações</th>
  </thead>
  <tbody>
    @foreach (Equipe equipe in ViewBag.Equipe) {
    <tr>
      <td>@equipe.IdEquipe</td>
      <td>@equipe.Nome</td>
      <td>
        <img
          src="/img/Equipes/@equipe.Imagem"
          alt="Imagem da equipe @equipe.Nome"
          width="50px"
        />
      </td>
      <th><a class="nav-link text-dark" asp-area="Link para excluir equipe" asp-controller="Equipe" asp-action="Excluir" asp-route-id="@equipe.IdEquipe">Excluir</a></th>
      <th><a class="nav-link text-dark" asp-area="Link para editar equipe" asp-controller="Equipe" asp-action="Editar" asp-route-id="@equipe.IdEquipe">Editar</a></th>
    </tr>
    }
  </tbody>
</table>
